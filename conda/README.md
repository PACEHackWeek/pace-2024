# Reproducible conda environments

This directory is for managing a reproducible environment across platforms using the tool [`conda-lock`](https://github.com/conda-incubator/conda-lock).

For simplicity during the hackweek, we use a *single* conda environment for building the website and running all tutorials. This means that all packages to execute code in all tutorial Jupyter notebooks are defined in one [environment.yml](https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#create-env-file-manually).

`environment.yml` a human-friendly environment definition file, which specifies all the packages needed to build the website. However, to guarantee that developers and tutorial contributors all have *exactly* the same set of package versions on different machines, we use environment lock files, which are generated by the `./lock-environment.sh` script. You should run that script any time you modify the `environment.yml` file, or want to bring in the latest and greatest compatible packages.

## Important note on conda and pip

We recommend installing packages from [conda-forge](https://conda-forge.org) whenever possible. Inevitably there are some packages only available via pip. `conda-lock` does not check for version compatibilities between pip and conda packages, so beware that adding `pip` packages to the environment.yml *may* lead to incompatibilities. You can avoid this be adding dependencies of the pip packages by including as many as possible in your list of packages to install from conda-forge.
